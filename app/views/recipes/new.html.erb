 <!--エラーメッセージ-->
<% if @recipe.errors.any? %>
 <h2 class="errors text-center mb-5"><%= pluralize(@recipe.errors.count, "error") %> prohibited this recipe from being saved:</h2>
<% end %>

 <!--投稿画面-->
  <%= form_with model: @recipe, local:true do |f| %>
   <div class="container w-75">
      <h2 class="far fa-clipboard">WriteRecipe</h2>
      <div class="my-3 ">
       <label for="RecipeTitle">レシピタイトル</label>
       <div><%= f.text_field :title, placeholder: "レシピタイトル", class: "form-control" %></div>
       <% if @recipe.errors.include?(:title) %>
         <p style="color: white; background-color: red;"><%= @recipe.errors.full_messages_for(:title).first %>
       <% end %>
       
       
       
      </div>

       <div class="row">
         <div class="col-md-6 mb-3">
           <label for="NumberOfPeople">人数</label>
              <div><%= f.text_field :no_of_dish, placeholder: "２人分", class: "form-control" %></div>
        　 </div>
           <div class="col-md-6 mb-3">
             <label for="Tag">タグ</label>
                <div>
                 <%= f.text_field :tag_name,placeholder: "料理に合うお酒の名前を記入してください", class: "form-control" %>
                </div>
            </div>
        </div>

       <div class="mb-3">
          <label for="CatchCopy">キャッチコピー</label>
          <div><%= f.text_area :catchcopy, placeholder: "キャッチコピー入力（検索結果の画面にも表示されます）", class: "form-control" %></div>
        </div>
        <% if @recipe.errors.include?(:catchcopy) %>
         <p style="color: white; background-color: red;"><%= @recipe.errors.full_messages_for(:catchcopy).first %>
        <% end %>

       <div class="mb-3">
          <label for="Image">イメージ</label>
          <div><%= f.attachment_field :image %></div>
        </div>


     <!--☆の評価-->
 
        <div class="card-group">
          <div class="card border-0 m-4">
            <div class="card-body">
             <div class="card-text text-center">
               <div class="star-form-group" id="star1">
                <i class="fas fa-cookie-bite"><%= f.label :sweetness,'甘', class:'star-title' %></i>
                </div>
                <script>
                 $('#star1').raty({
                   size     : 36,                                  //☆のサイズ
                   starOff:  '<%= asset_path('star-off.png') %>',  //imagesフォルダより画像を呼び出し
                   starOn : '<%= asset_path('star-on.png') %>',
                   starHalf: '<%= asset_path('star-half.png') %>',
                   scoreName: 'recipe[sweetness]',                 //reviewモデルのcomfortカラムに保存
                   half: true,                                     //星半分を許可する。DBには0.5単位の数値が保存される
                 });
               </script>
              </div>
            </div>
          </div>
          <div class="card border-0 m-4">
            <div class="card-body">
              <div class="card-text text-center">
               <div class="star-form-group" id="star2">
                <i class="fas fa-pepper-hot"><%= f.label :spicy,'辛', class:'star-title' %></i>
              </div>
               <script>
                 $('#star2').raty({
                   size     : 36,
                   starOff:  '<%= asset_path('star-off.png') %>',
                   starOn : '<%= asset_path('star-on.png') %>',
                   starHalf: '<%= asset_path('star-half.png') %>',
                   scoreName: 'recipe[spicy]',
                   half: true,
                 });
               </script>
              </div>
            </div>
          </div>
          <div class="card border-0 m-4">
            <div class="card-body">
             <div class="card-text text-center">
              <div class="star-form-group" id="star3">
                <i class="fas fa-prescription-bottle"><%= f.label :salty,'塩', class:'star-title' %></i>
              </div>
                <script>
                 $('#star3').raty({
                   size     : 36,
                   starOff:  '<%= asset_path('star-off.png') %>',
                   starOn : '<%= asset_path('star-on.png') %>',
                   starHalf: '<%= asset_path('star-half.png') %>',
                   scoreName: 'recipe[salty]',
                   half: true,
                  });
               </script>
              </div>
            </div>
          </div>
          <div class="card border-0 m-4">
            <div class="card-body">
              <div class="card-text text-center">
            <div class="star-form-group" id="star4">
               <i class="fas fa-wine-bottle"><%= f.label :bitter_taste,'苦', class:'star-title' %></i>
              </div>
                <script>
                 $('#star4').raty({
                   size     : 36,
                   starOff:  '<%= asset_path('star-off.png') %>',
                   starOn : '<%= asset_path('star-on.png') %>',
                   starHalf: '<%= asset_path('star-half.png') %>',
                   scoreName: 'recipe[bitter_taste]',
                   half: true,
                 });
               </script>
              </div>
            </div>
          </div>
            <div class="card border-0 m-4">
            <div class="card-body">
              <div class="card-text text-center">
               <div class="star-form-group" id="star5">
                <i class="fas fa-lemon"><%= f.label :acidity,'酸', class:'star-title' %></i>
             </div>
                <script>
                 $('#star5').raty({
                   size     : 36,
                   starOff:  '<%= asset_path('star-off.png') %>',
                   starOn : '<%= asset_path('star-on.png') %>',
                   starHalf: '<%= asset_path('star-half.png') %>',
                   scoreName: 'recipe[acidity]',
                   half: true,
                 });
               </script>
              </div>
            </div>
          </div>
        </div>
        <% if @recipe.errors.include?(:sweetness) %>
          <p style="color: white; background-color: red;"><%= @recipe.errors.full_messages_for(:sweetness).first %>
        <% end %>
        <% if @recipe.errors.include?(:spicy) %>
          <p style="color: white; background-color: red;"><%= @recipe.errors.full_messages_for(:spicy).first %>
        <% end %>
        <% if @recipe.errors.include?(:salty,) %>
          <p style="color: white; background-color: red;"><%= @recipe.errors.full_messages_for(:salty).first %>
        <% end %>
        <% if @recipe.errors.include?(:bitter_taste) %>
          <p style="color: white; background-color: red;"><%= @recipe.errors.full_messages_for(:bitter_taste).first %>
        <% end %>
        <% if @recipe.errors.include?(:acidity) %>
          <p style="color: white; background-color: red;"><%= @recipe.errors.full_messages_for(:acidity).first %>
        <% end %>

      <!--材料・量の入力フォーム-->
         <div class="recipe-ingredients">
          <div>
            <%= f.fields_for :recipe_ingredients do |t| %>
              <%= render "recipes/recipe_ingredient_fields", f: t %>
            <% end %>
          </div>

          <div>
            <%= link_to_add_association "+フォームを追加", f, :recipe_ingredients, class: "btn btn-outline-warning w-100" %>
          </div>
        </div>

      <!--手順の入力フォーム-->
        <div class="how-to-makes">
          <div>
            <%= f.fields_for :how_to_makes do |t| %>
              <%= render "recipes/how_to_make_fields", f: t %>
            <% end %>
          </div>
          <div class="container w-75">
            <%= link_to_add_association "+フォームを追加", f, :how_to_makes, class: "btn btn-outline-warning w-100 mt-2" %>
          </div>
        </div>

    <div class="text-center">
     <button type="submit" class="btn btn-warning w-75 my-5 ml-2">投稿</button>
   </div>
 </div>
<% end %>

